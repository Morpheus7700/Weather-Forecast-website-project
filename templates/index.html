<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>World Weather & Time</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <input type="hidden" id="user-units" value="{{ units }}">
  <header>
    <h1><i class="fas fa-globe-americas"></i> World Weather & Time</h1>
    <nav>
      <button id="toggle-theme-btn"><i class="fas fa-sun"></i></button>
      <button id="toggle-temp-unit"><i class="fas fa-thermometer-half"></i> <span id="current-unit-display">{{ units.upper() }}</span></button>
      <button id="edit-cities-btn"><i class="fas fa-edit"></i> Edit Cities</button>
      <a href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </nav>
  </header>
  <div id="global-alerts-container"></div>
  <main>
    <div id="current-location-weather">
      <h2>Your Current Weather</h2>
      <div id="current-location-details">
        <p><span id="current-location-name"></span></p>
        <p><i class="fas fa-thermometer-half"></i> Temperature: <span id="current-location-temp"></span></p>
        <p><i class="fas fa-tint"></i> Dewpoint: <span id="current-location-dewpoint"></span></p>
        <p><i class="fas fa-eye"></i> Visibility: <span id="current-location-visibility"></span></p>
        <p><i class="fas fa-sun"></i> UV Index: <span id="current-location-uv-index"></span></p>
        <p><i class="fas fa-smog"></i> AQI: <span id="current-location-aqi"></span></p>
        <p><i class="fas fa-smog"></i> PM2.5: <span id="current-location-pm25"></span></p>
        <p><i class="fas fa-smog"></i> PM10: <span id="current-location-pm10"></span></p>
        <p><i class="fas fa-leaf"></i> Pollen (Grass): <span id="current-location-pollen-grass"></span></p>
        <p><i class="fas fa-tree"></i> Pollen (Tree): <span id="current-location-pollen-tree"></span></p>
        <p><i class="fas fa-seedling"></i> Pollen (Weed): <span id="current-location-pollen-weed"></span></p>
        <p><i class="fas fa-tshirt"></i> Outfit: <span id="current-location-outfit"></span></p>
        <p><i class="fas fa-running"></i> Activity: <span id="current-location-activity"></span></p>
        <p><i class="fas fa-lightbulb"></i> Tip: <span id="current-location-weather-tip"></span></p>
        <p><span id="current-location-date"></span></p>
      </div>
    </div>
    <div id="map-container">
      <div id="map-controls">
        <button id="map-wind-btn"><i class="fas fa-wind"></i> Wind</button>
        <button id="map-temp-btn"><i class="fas fa-temperature-high"></i> Temperature</button>
        <button id="map-precip-btn"><i class="fas fa-cloud-showers-heavy"></i> Precipitation</button>
      </div>
      <iframe id="weather-map" src="https://earth.nullschool.net/#current/wind/surface/level/orthographic=0,0,3000" width="100%" height="100%"></iframe>
    </div>
    <div class="cities-grid">
    </div>
    <div id="analysis-section">
      <h2>Weather Analysis</h2>
      <div id="historical-controls">
        <select id="historical-city-select"></select>
        <input type="date" id="start-date">
        <input type="date" id="end-date">
        <button id="get-history-btn">Get History</button>
      </div>
      <canvas id="weather-chart"></canvas>
    </div>
  </main>
  <div id="city-modal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Add/Remove Cities</h2>
      <input type="text" id="city-search" placeholder="Search for a city...">
      <ul id="city-list"></ul>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/static/app.js"></script>
</body>
</html>
